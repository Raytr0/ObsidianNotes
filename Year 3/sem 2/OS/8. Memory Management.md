The address of the **base register** (a physical address) points to the location where the process is located. 
The **limit register** specifies an offset from the base register value. We can add base and limit registers together to access a location within that process. 
For **contiguous memory allocation:** Limit registers provide a convenient way to manage virtual →physical memory translation. Memory separation between processes. 
Modern OSs do NOT allocate memory in contiguous locations.
![[Pasted image 20250423195751.png|300]]
### How can we increase the degree of multiprogramming?
• Increasing the degree of multiprogramming requires increasing the size of main memory
Use **Virtual Memory**!
This is memory that is directly accessible by the OS, this is not limited by the actual main memory size but instead is limited by the amount of secondary memory available.

### Main responsibilities of the OS for memory management
The OS is responsible for managing RAM
The responsibilities include: Memory allocation, Process address space isolation and security, virtual memory management, and address translation

### Two Key Concepts
Relocation:
	Processes need to be swapped in and out from memory to disk storage
	When swapping back there is no guarantee that the process will allocate the same physical space
	Thus the OS needs to provide memory relocation
Protection:
	processes should not interfere with another process

### Logical address space
Addresses generated by a process are in logical (or virtual) address space.
A logical address space for processes is achieved through 2 special purpose registers: base and limit registers.
• When OS loads a process, it sets up the values of the base and limit register for the process. 
• Base register: The address where the process is loaded into memory, that is, the first addressable space. 
• Limit register: The length of the program.

• There on, whenever a process’s instructions reference a memory location, the MMU in CPU hardware adds the base value to the references address.
![[Pasted image 20250423203704.png]]

### Dynamic relocation
![[Pasted image 20250423204742.png]]
### Memory allocation
• The operating system (OS) must allocate memory for processes. Since processes vary in size, different-sized holes may be created in memory. These holes form when processes are either swapped out or complete their execution. 
• This approach is called variable-sized partitioning because the OS partitions memory into dynamically sized sections based on process requirements
• Possible algorithms: 
	• First fit: Allocate the first memory hole big enough for the process. 
	• Best fit: Find the smallest hole that is big enough. 
	• Worst fit: Assign the biggest hole. Although this strategy might seem unintuitive, the goal is to leave always enough space for future processes to be allocated

### Paging
Most OS today use a paging system, where memory is divided into pages, and processes’ address space consists of several pages of memory.

### Paging systems
• Memory (both the virtual address space assigned to a process and the physical memory) is divided in fixed sized blocks. 
• A virtual page (or simply, a page) is the name for the fixed size block in virtual address space of a process 
• A physical page (or simply, a frame) is the name of the fixed size block in physical memory. 
• Naturally, we need a way to map and translate a page from the virtual address space to the frame in the physical address space.
![[Pasted image 20250423210208.png]]
![[Pasted image 20250423210224.png]]
![[Pasted image 20250423210237.png]]
![[Pasted image 20250423210553.png]]
